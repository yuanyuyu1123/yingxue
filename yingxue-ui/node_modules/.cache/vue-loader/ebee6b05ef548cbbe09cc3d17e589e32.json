{"remainingRequest":"E:\\javafile\\yingxue-admin\\yingxue-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\javafile\\yingxue-admin\\yingxue-ui\\src\\components\\TypeNav\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\javafile\\yingxue-admin\\yingxue-ui\\src\\components\\TypeNav\\index.vue","mtime":1652150310000},{"path":"E:\\javafile\\yingxue-admin\\yingxue-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1659166634376},{"path":"E:\\javafile\\yingxue-admin\\yingxue-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":1659166658972},{"path":"E:\\javafile\\yingxue-admin\\yingxue-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1659166634376},{"path":"E:\\javafile\\yingxue-admin\\yingxue-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":1659166660087}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcFN0YXRlIH0gZnJvbSAidnVleCI7Ci8vIGNvbnNvbGUubG9nKG1hcFN0YXRlKFsnY2F0ZWdvcnlMaXN0JywnYSddKSkKLy8gbWFwU3RhdGU6aHR0cHM6Ly92dWV4LnZ1ZWpzLm9yZy96aC9ndWlkZS9zdGF0ZS5odG1sI21hcHN0YXRlLSVFOCVCRSU4NSVFNSU4QSVBOSVFNSU4NyVCRCVFNiU5NSVCMAppbXBvcnQgdGhyb3R0bGUgZnJvbSAibG9kYXNoL3Rocm90dGxlIgoKZXhwb3J0IGRlZmF1bHQgewogICAgbmFtZTogIlR5cGVOYXYiLAogICAgZGF0YSgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICAvL+WtmOWCqOeUqOaIt+m8oOagh+enu+WIsOWTquS4quS4gOe6p+WIhuexuwogICAgICAgICAgICBjdXJyZW50SW5kZXg6IC0xLAogICAgICAgICAgICBzaG93OiB0cnVlCiAgICAgICAgfTsKICAgIH0sCiAgICBjb21wdXRlZDogewogICAgICAgIC4uLm1hcFN0YXRlKHsKICAgICAgICAgICAgLy/lj7PkvqfpnIDopoHnmoTmmK/kuIDkuKrlh73mlbDvvIzlvZPkvb/nlKjov5nkuKrorqHnrpflsZ7mgKfml7bvvIzlj7Pkvqflh73mlbDkvJrnq4vljbPosIPnlKgKICAgICAgICAgICAgLy/ms6jlhaXkuIDkuKrlj4LmlbBzdGF0ZSzlhbblrp7ljbPkuLrlpKfku5PlupPkuK3nmoTmlbDmja4KICAgICAgICAgICAgY2F0ZWdvcnlMaXN0OiAoc3RhdGUpID0+IHN0YXRlLmhvbWUuY2F0ZWdvcnlMaXN0LAogICAgICAgIH0pLAogICAgICAgIC8vIC4uLm1hcFN0YXRlKCdob21lJyx7Y2F0ZWdvcnlMaXN0OidjYXRlZ29yeUxpc3QnfSkvLz09Pui/kOihjOWHuuadpeaYr+mUmeeahAogICAgfSwKICAgIGNyZWF0ZWQoKSB7CiAgICB9LAogICAgLy/nu4Tku7bmjILovb3lrozmr5XvvJrlj6/ku6XlkJHmnI3liqHlmajlj5Hor7fmsYIKICAgIG1vdW50ZWQoKSB7CiAgICAgICAgLy8gIGNvbnNvbGUubG9nKHRoaXMpCiAgICAgICAgLy8gLy/pgJrnn6VWdWXlj5Hor7fmsYLvvIzojrflj5bmlbDmja7vvIzlrZjlgqjku5PlupPkuK0KICAgICAgICAvLyB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiY2F0ZWdvcnlMaXN0Iik7CiAgICAgICAgLy/lvZPnu4Tku7bmjILovb3lrozmr5XvvIzorqlzaG935bGe5oCn5Y+I6KaB5Y+Y5oiQZmFsZQogICAgICAgIC8v5aaC5p6c5LiN5pivaG9tZei3r+eUseS4u+acuu+8jOWwhnR5cGVOYXbov5vooYzpmpDol48KICAgICAgICBpZiAodGhpcy4kcm91dGUucGF0aCAhPSAnL2hvbWUnKSB7CiAgICAgICAgICAgIHRoaXMuc2hvdyA9IGZhbHNlCiAgICAgICAgfQogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgICAvL+m8oOagh+i/m+WOu+S/ruaUuWN1cnJlbnRJbmRleOeahOWAvAogICAgICAgIC8vIGNoYW5nZUluZGV4KGluZGV4KSB7CiAgICAgICAgLy8gICAgIC8vaW5kZXjpvKDmoIfnp7vlhaXnmoTlhYPntKDntKLlvJXlgLwKICAgICAgICAvLyAgICAgLy/mraPluLjvvJrnlKjmiLfmhaLmhaLmnaXmk43kvZzvvIzpvKDmoIfov5vlhaXvvIzmr4/kuKrkuIDnuqfliIbnsbvpg73kvJrop6blj5HpvKDmoIfov5vlhaXkuovku7YKICAgICAgICAvLyAgICAgLy/pnZ7mraPluLjvvJrnlKjmiLfmk43kvZzlvojlv6vvvIzpvKDmoIfov5vlhaXvvIzmnKzouqvlhajpg6jkuIDnuqfliIbnsbvpg73lupTor6Xop6blj5HpvKDmoIfov5vlhaXkuovku7bvvIzkvYbmmK/nu4/ov4fmtYvor5XvvIzlj6rmnInpg6jliIbop6blj5HkuoYKICAgICAgICAvLyAgICAgLy/lsLHmmK/nlLHkuo7nlKjmiLfooYzkuLrov4flv6vvvIzmtY/op4jlmajlj43lupTkuI3ov4fmnaXvvIzlpoLmnpzlvZPliY3lm57osIPkuK3mnInlpKfph4/kuJrliqHvvIzmnInlj6/og73lh7rnjrDljaHpob/njrDosaEKICAgICAgICAvLyAgICAgdGhpcy5jdXJyZW50SW5kZXggPSBpbmRleDsKICAgICAgICAvLyAgICAgY29uc29sZS5sb2coJ+m8oOagh+i/m+WFpScraW5kZXgpCiAgICAgICAgLy8gfSwKICAgICAgICAvL3Rocm90dGxl5Ye95pWw5Yir55SodGhpcyzlj6/og73kvJrlh7rnjrDkuIrkuIvmlod0aGlzCiAgICAgICAgY2hhbmdlSW5kZXg6IHRocm90dGxlKGZ1bmN0aW9uIChpbmRleCkgewogICAgICAgICAgICB0aGlzLmN1cnJlbnRJbmRleCA9IGluZGV4OwogICAgICAgICAgICAvLyBjb25zb2xlLmxvZygn6byg5qCH6L+b5YWlJyArIGluZGV4KQogICAgICAgIH0sIDUwKSwKCiAgICAgICAgZ29TZWFyY2goZXZlbnQpIHsKICAgICAgICAgICAgLy8gdGhpcy4kcm91dGVyLnB1c2goJy9zZXJjaCcpCiAgICAgICAgICAgIC8v5Yy65YiG54K55Ye755qE5pivYe+8jOaKiuWtkOiKgueCueS4rWHmoIfnrb4g5Yqg6Ieq5a6a5LmJ5bGe5oCnZGF0YS1jYXRlZ29yeU5hbWXvvIzlhbbkvZnoioLngrnmsqHmnIkKICAgICAgICAgICAgbGV0IGVsZW1lbnQgPSBldmVudC50YXJnZXQ7CiAgICAgICAgICAgIC8v6I635Y+W5b2T5YmN5LqL5Lu26IqC54K577yM6ZyA6KaB5bimZGF0YS1jYXRlZ29yeU5hbWXnmoToioLngrkKICAgICAgICAgICAgLy/oioLngrlkYXRhc2V05bGe5oCn77yM5Y+v5Lul6I635Y+W6IqC54K56Ieq5a6a5LmJ5bGe5oCn5LiO5bGe5oCn5YC8CiAgICAgICAgICAgIGxldCB7IGNhdGVnb3J5bmFtZSwgY2F0ZWdvcnkxaWQsIGNhdGVnb3J5MmlkLCBjYXRlZ29yeTNpZCwgYSB9ID0gZWxlbWVudC5kYXRhc2V0CiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGEpLy/kuI3lrZjlnKjkuLp1bmRlZmluZWQKICAgICAgICAgICAgaWYgKGNhdGVnb3J5bmFtZSkgewogICAgICAgICAgICAgICAgLy/mlbTnkIbot6/nlLHot7Povazlj4LmlbAKICAgICAgICAgICAgICAgIGxldCBsb2NhdGlvbiA9IHsgbmFtZTogJ3NlYXJjaCcgfTsKICAgICAgICAgICAgICAgIGxldCBxdWVyeSA9IHsgY2F0ZWdvcnlOYW1lOiBjYXRlZ29yeW5hbWUgfTsKICAgICAgICAgICAgICAgIC8v5Yy65YiGMeOAgTLjgIEz57qn5qCH562+CiAgICAgICAgICAgICAgICBpZiAoY2F0ZWdvcnkxaWQpIHsKICAgICAgICAgICAgICAgICAgICBxdWVyeS5jYXRlZ29yeTFpZCA9IGNhdGVnb3J5MWlkOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjYXRlZ29yeTJpZCkgewogICAgICAgICAgICAgICAgICAgIHF1ZXJ5LmNhdGVnb3J5MklkID0gY2F0ZWdvcnkyaWQ7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHF1ZXJ5LmNhdGVnb3J5M0lkID0gY2F0ZWdvcnkzaWQ7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBsb2NhdGlvbi5xdWVyeSA9IHF1ZXJ5OwogICAgICAgICAgICAgICAgLy/lpoLmnpzot6/nlLHot7PovazmnIlwYXJhbXPlj4LmlbDvvIzopoHluKbov4fljrsKICAgICAgICAgICAgICAgIC8v5aaC5p6c6Lev55Sx5pyJcXVlcnnkuZ/opoHluKYKICAgICAgICAgICAgICAgIGxvY2F0aW9uLnBhcmFtcz10aGlzLiRyb3V0ZS5wYXJhbXM7CiAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaChsb2NhdGlvbik7CiAgICAgICAgICAgIH0KCgogICAgICAgIH0sCiAgICAgICAgLy/lvZPpvKDmoIfov5vlhaXvvIzorqnllYblk4HliIbnsbvliJfooajov5vooYzmmL7npLoKICAgICAgICBlbnRlclNob3coKSB7CiAgICAgICAgICAgIGlmICh0aGlzLiRyb3V0ZS5wYXRoICE9ICcvaG9tZScpIHsKICAgICAgICAgICAgICAgIHRoaXMuc2hvdyA9IHRydWUKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgLy8g5LiA57qn5qCH562+6byg5qCH56e76ZmkCiAgICAgICAgbGVhdmVTaG93KCkgewogICAgICAgICAgICAvLyDkuIDnuqfmoIfnrb7pvKDmoIfnp7vpmaQKICAgICAgICAgICAgdGhpcy5jdXJyZW50SW5kZXggPSAtMTsKICAgICAgICAgICAgLy9zZWFyY2jpobXpnaLmiY3miafooYwKICAgICAgICAgICAgaWYgKHRoaXMuJHJvdXRlLnBhdGggIT0gJy9ob21lJykgewogICAgICAgICAgICAgICAgdGhpcy5zaG93ID0gZmFsc2UKICAgICAgICAgICAgfQoKICAgICAgICB9LAogICAgfSwKfTsK"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsDA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"index.vue","sourceRoot":"src/components/TypeNav","sourcesContent":["<template>\n    <!-- 商品分类导航 -->\n    <div class=\"type-nav\">\n        <div class=\"container\">\n            <!--事件的委派，事件的委托，委派给他们的父元素 -->\n            <div @mouseleave=\"leaveShow\" @mouseenter=\"enterShow\">\n                <h2 class=\"all\">全部商品分类</h2>\n                <!-- 过渡动画 -->\n                <transition name=\"sort\">\n                    <div class=\"sort\" v-show=\"show\">\n                        <div class=\"all-sort-list2\" @click=\"goSearch\">\n                            <!-- 一级 -->\n                            <div class=\"item\" v-for=\"(c1, index) in categoryList\" :key=\"c1.categoryId\">\n                                <h3 @mouseenter=\"changeIndex(index)\" :class=\"{ cur: currentIndex == index }\">\n                                    <a :data-categoryName=\"c1.categoryName\" :data-category2Id=\"c1.categoryId\">{{ c1.categoryName }} </a>\n                                </h3>\n                                <!-- 二级、三级 -->\n                                <div class=\"item-list clearfix\" :style=\"{display:currentIndex == index?'block':'none'}\">\n                                    <div class=\"subitem\" v-for=\"(c2, index) in c1.categoryChild\" :key=\"c2.categoryId\">\n                                        <dl class=\"fore\">\n                                            <dt>\n\n                                                <a :data-categoryName=\"c2.categoryName\" :data-category2Id=\"c2.categoryId\">{{ c2.categoryName }}</a>\n                                            </dt>\n                                            <dd>\n                                                <em v-for=\"(c3, index) in c2.categoryChild\" :key=\"c3.categoryId\">\n                                                    <a :data-categoryName=\"c3.categoryName\" :data-category3Id=\"c3.categoryId\">{{ c3.categoryName }}</a>\n                                                </em>\n                                            </dd>\n                                        </dl>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </transition>\n\n            </div>\n\n            <nav class=\"nav\">\n                <a href=\"###\">服装城</a>\n                <a href=\"###\">美妆馆</a>\n                <a href=\"###\">尚品汇超市</a>\n                <a href=\"###\">全球购</a>\n                <a href=\"###\">闪购</a>\n                <a href=\"###\">团购</a>\n                <a href=\"###\">有趣</a>\n                <a href=\"###\">秒杀</a>\n            </nav>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { mapState } from \"vuex\";\n// console.log(mapState(['categoryList','a']))\n// mapState:https://vuex.vuejs.org/zh/guide/state.html#mapstate-%E8%BE%85%E5%8A%A9%E5%87%BD%E6%95%B0\nimport throttle from \"lodash/throttle\"\n\nexport default {\n    name: \"TypeNav\",\n    data() {\n        return {\n            //存储用户鼠标移到哪个一级分类\n            currentIndex: -1,\n            show: true\n        };\n    },\n    computed: {\n        ...mapState({\n            //右侧需要的是一个函数，当使用这个计算属性时，右侧函数会立即调用\n            //注入一个参数state,其实即为大仓库中的数据\n            categoryList: (state) => state.home.categoryList,\n        }),\n        // ...mapState('home',{categoryList:'categoryList'})//==>运行出来是错的\n    },\n    created() {\n    },\n    //组件挂载完毕：可以向服务器发请求\n    mounted() {\n        //  console.log(this)\n        // //通知Vue发请求，获取数据，存储仓库中\n        // this.$store.dispatch(\"categoryList\");\n        //当组件挂载完毕，让show属性又要变成fale\n        //如果不是home路由主机，将typeNav进行隐藏\n        if (this.$route.path != '/home') {\n            this.show = false\n        }\n    },\n    methods: {\n        //鼠标进去修改currentIndex的值\n        // changeIndex(index) {\n        //     //index鼠标移入的元素索引值\n        //     //正常：用户慢慢来操作，鼠标进入，每个一级分类都会触发鼠标进入事件\n        //     //非正常：用户操作很快，鼠标进入，本身全部一级分类都应该触发鼠标进入事件，但是经过测试，只有部分触发了\n        //     //就是由于用户行为过快，浏览器反应不过来，如果当前回调中有大量业务，有可能出现卡顿现象\n        //     this.currentIndex = index;\n        //     console.log('鼠标进入'+index)\n        // },\n        //throttle函数别用this,可能会出现上下文this\n        changeIndex: throttle(function (index) {\n            this.currentIndex = index;\n            // console.log('鼠标进入' + index)\n        }, 50),\n\n        goSearch(event) {\n            // this.$router.push('/serch')\n            //区分点击的是a，把子节点中a标签 加自定义属性data-categoryName，其余节点没有\n            let element = event.target;\n            //获取当前事件节点，需要带data-categoryName的节点\n            //节点dataset属性，可以获取节点自定义属性与属性值\n            let { categoryname, category1id, category2id, category3id, a } = element.dataset\n            // console.log(a)//不存在为undefined\n            if (categoryname) {\n                //整理路由跳转参数\n                let location = { name: 'search' };\n                let query = { categoryName: categoryname };\n                //区分1、2、3级标签\n                if (category1id) {\n                    query.category1id = category1id;\n                } else if (category2id) {\n                    query.category2Id = category2id;\n                } else {\n                    query.category3Id = category3id;\n                }\n                location.query = query;\n                //如果路由跳转有params参数，要带过去\n                //如果路由有query也要带\n                location.params=this.$route.params;\n                this.$router.push(location);\n            }\n\n\n        },\n        //当鼠标进入，让商品分类列表进行显示\n        enterShow() {\n            if (this.$route.path != '/home') {\n                this.show = true\n            }\n        },\n        // 一级标签鼠标移除\n        leaveShow() {\n            // 一级标签鼠标移除\n            this.currentIndex = -1;\n            //search页面才执行\n            if (this.$route.path != '/home') {\n                this.show = false\n            }\n\n        },\n    },\n};\n</script>\n\n<style scoped lang=\"less\">\n.type-nav {\n    border-bottom: 2px solid #e1251b;\n\n    .container {\n        width: 1200px;\n        margin: 0 auto;\n        display: flex;\n        position: relative;\n\n        .all {\n            width: 210px;\n            height: 45px;\n            background-color: #e1251b;\n            line-height: 45px;\n            text-align: center;\n            color: #fff;\n            font-size: 14px;\n            font-weight: bold;\n        }\n\n        .nav {\n            a {\n                height: 45px;\n                margin: 0 22px;\n                line-height: 45px;\n                font-size: 16px;\n                color: #333;\n            }\n        }\n\n        .sort {\n            position: absolute;\n            left: 0;\n            top: 45px;\n            width: 210px;\n            height: 461px;\n            position: absolute;\n            background: #fafafa;\n            z-index: 999;\n            // overflow: hidden;\n            .all-sort-list2 {\n                .item {\n                    h3 {\n                        line-height: 30px;\n                        font-size: 14px;\n                        font-weight: 400;\n                        overflow: hidden;\n                        padding: 0 20px;\n                        margin: 0;\n\n                        a {\n                            color: #333;\n                        }\n                    }\n\n                    .item-list {\n                        display: none;\n                        position: absolute;\n                        width: 734px;\n                        min-height: 460px;\n                        background: #f7f7f7;\n                        left: 210px;\n                        border: 1px solid #ddd;\n                        top: 0;\n                        z-index: 9999 !important;\n\n                        .subitem {\n                            float: left;\n                            width: 650px;\n                            padding: 0 4px 0 8px;\n\n                            dl {\n                                border-top: 1px solid #eee;\n                                padding: 6px 0;\n                                overflow: hidden;\n                                zoom: 1;\n\n                                &.fore {\n                                    border-top: 0;\n                                }\n\n                                dt {\n                                    float: left;\n                                    width: 54px;\n                                    line-height: 22px;\n                                    text-align: right;\n                                    padding: 3px 6px 0 0;\n                                    font-weight: 700;\n                                }\n\n                                dd {\n                                    float: left;\n                                    width: 415px;\n                                    padding: 3px 0 0;\n                                    overflow: hidden;\n\n                                    em {\n                                        float: left;\n                                        height: 14px;\n                                        line-height: 14px;\n                                        padding: 0 8px;\n                                        margin-top: 5px;\n                                        border-left: 1px solid #ccc;\n                                    }\n                                }\n                            }\n                        }\n                    }\n\n                    // &:hover {\n                    //     .item-list {\n                    //         display: block;\n                    //     }\n                    // }\n                }\n                h3.cur {\n                    background: #dae8fc;\n                }\n            }\n        }\n        // 过渡动画开始的动态\n        .sort-enter{\n           height: 0;\n        }\n        // 过渡动画的结束状态\n        .sort-enter-to{\n             height: 461px;\n        }\n        //定义动画时间  速率\n        .sort-enter-active{\n            transition: all 0.5s linear;\n        }\n    }\n}\n</style>\n"]}]}