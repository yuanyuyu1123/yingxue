{"remainingRequest":"E:\\javafile\\yingxue-admin\\yingxue-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\javafile\\yingxue-admin\\yingxue-ui\\src\\components\\TypeNav\\index.vue?vue&type=style&index=0&id=18b3c0cc&scoped=true&lang=less&","dependencies":[{"path":"E:\\javafile\\yingxue-admin\\yingxue-ui\\src\\components\\TypeNav\\index.vue","mtime":1652150310000},{"path":"E:\\javafile\\yingxue-admin\\yingxue-ui\\node_modules\\css-loader\\dist\\cjs.js","mtime":1659166642528},{"path":"E:\\javafile\\yingxue-admin\\yingxue-ui\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1659166668933},{"path":"E:\\javafile\\yingxue-admin\\yingxue-ui\\node_modules\\postcss-loader\\src\\index.js","mtime":1659166658922},{"path":"E:\\javafile\\yingxue-admin\\yingxue-ui\\node_modules\\less-loader\\dist\\cjs.js","mtime":1659166658788},{"path":"E:\\javafile\\yingxue-admin\\yingxue-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1659166634376},{"path":"E:\\javafile\\yingxue-admin\\yingxue-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":1659166660087}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoudHlwZS1uYXYgewogICAgYm9yZGVyLWJvdHRvbTogMnB4IHNvbGlkICNlMTI1MWI7CgogICAgLmNvbnRhaW5lciB7CiAgICAgICAgd2lkdGg6IDEyMDBweDsKICAgICAgICBtYXJnaW46IDAgYXV0bzsKICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKCiAgICAgICAgLmFsbCB7CiAgICAgICAgICAgIHdpZHRoOiAyMTBweDsKICAgICAgICAgICAgaGVpZ2h0OiA0NXB4OwogICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZTEyNTFiOwogICAgICAgICAgICBsaW5lLWhlaWdodDogNDVweDsKICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgICAgICAgICBjb2xvcjogI2ZmZjsKICAgICAgICAgICAgZm9udC1zaXplOiAxNHB4OwogICAgICAgICAgICBmb250LXdlaWdodDogYm9sZDsKICAgICAgICB9CgogICAgICAgIC5uYXYgewogICAgICAgICAgICBhIHsKICAgICAgICAgICAgICAgIGhlaWdodDogNDVweDsKICAgICAgICAgICAgICAgIG1hcmdpbjogMCAyMnB4OwogICAgICAgICAgICAgICAgbGluZS1oZWlnaHQ6IDQ1cHg7CiAgICAgICAgICAgICAgICBmb250LXNpemU6IDE2cHg7CiAgICAgICAgICAgICAgICBjb2xvcjogIzMzMzsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgLnNvcnQgewogICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICAgICAgICAgIGxlZnQ6IDA7CiAgICAgICAgICAgIHRvcDogNDVweDsKICAgICAgICAgICAgd2lkdGg6IDIxMHB4OwogICAgICAgICAgICBoZWlnaHQ6IDQ2MXB4OwogICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICAgICAgICAgIGJhY2tncm91bmQ6ICNmYWZhZmE7CiAgICAgICAgICAgIHotaW5kZXg6IDk5OTsKICAgICAgICAgICAgLy8gb3ZlcmZsb3c6IGhpZGRlbjsKICAgICAgICAgICAgLmFsbC1zb3J0LWxpc3QyIHsKICAgICAgICAgICAgICAgIC5pdGVtIHsKICAgICAgICAgICAgICAgICAgICBoMyB7CiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmUtaGVpZ2h0OiAzMHB4OwogICAgICAgICAgICAgICAgICAgICAgICBmb250LXNpemU6IDE0cHg7CiAgICAgICAgICAgICAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA0MDA7CiAgICAgICAgICAgICAgICAgICAgICAgIG92ZXJmbG93OiBoaWRkZW47CiAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDAgMjBweDsKICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luOiAwOwoKICAgICAgICAgICAgICAgICAgICAgICAgYSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogIzMzMzsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgLml0ZW0tbGlzdCB7CiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IG5vbmU7CiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDczNHB4OwogICAgICAgICAgICAgICAgICAgICAgICBtaW4taGVpZ2h0OiA0NjBweDsKICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogI2Y3ZjdmNzsKICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogMjEwcHg7CiAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNkZGQ7CiAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogMDsKICAgICAgICAgICAgICAgICAgICAgICAgei1pbmRleDogOTk5OSAhaW1wb3J0YW50OwoKICAgICAgICAgICAgICAgICAgICAgICAgLnN1Yml0ZW0gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgZmxvYXQ6IGxlZnQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogNjUwcHg7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAwIDRweCAwIDhweDsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkbCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICNlZWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogNnB4IDA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB6b29tOiAxOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmLmZvcmUgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXItdG9wOiAwOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZHQgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbG9hdDogbGVmdDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDU0cHg7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmUtaGVpZ2h0OiAyMnB4OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0LWFsaWduOiByaWdodDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogM3B4IDZweCAwIDA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA3MDA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsb2F0OiBsZWZ0OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogNDE1cHg7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDNweCAwIDA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG92ZXJmbG93OiBoaWRkZW47CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbG9hdDogbGVmdDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogMTRweDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmUtaGVpZ2h0OiAxNHB4OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogMCA4cHg7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW4tdG9wOiA1cHg7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXItbGVmdDogMXB4IHNvbGlkICNjY2M7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIC8vICY6aG92ZXIgewogICAgICAgICAgICAgICAgICAgIC8vICAgICAuaXRlbS1saXN0IHsKICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIGRpc3BsYXk6IGJsb2NrOwogICAgICAgICAgICAgICAgICAgIC8vICAgICB9CiAgICAgICAgICAgICAgICAgICAgLy8gfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaDMuY3VyIHsKICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAjZGFlOGZjOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIC8vIOi/h+a4oeWKqOeUu+W8gOWni+eahOWKqOaAgQogICAgICAgIC5zb3J0LWVudGVyewogICAgICAgICAgIGhlaWdodDogMDsKICAgICAgICB9CiAgICAgICAgLy8g6L+H5rih5Yqo55S755qE57uT5p2f54q25oCBCiAgICAgICAgLnNvcnQtZW50ZXItdG97CiAgICAgICAgICAgICBoZWlnaHQ6IDQ2MXB4OwogICAgICAgIH0KICAgICAgICAvL+WumuS5ieWKqOeUu+aXtumXtCAg6YCf546HCiAgICAgICAgLnNvcnQtZW50ZXItYWN0aXZlewogICAgICAgICAgICB0cmFuc2l0aW9uOiBhbGwgMC41cyBsaW5lYXI7CiAgICAgICAgfQogICAgfQp9Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2JA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/components/TypeNav","sourcesContent":["<template>\n    <!-- 商品分类导航 -->\n    <div class=\"type-nav\">\n        <div class=\"container\">\n            <!--事件的委派，事件的委托，委派给他们的父元素 -->\n            <div @mouseleave=\"leaveShow\" @mouseenter=\"enterShow\">\n                <h2 class=\"all\">全部商品分类</h2>\n                <!-- 过渡动画 -->\n                <transition name=\"sort\">\n                    <div class=\"sort\" v-show=\"show\">\n                        <div class=\"all-sort-list2\" @click=\"goSearch\">\n                            <!-- 一级 -->\n                            <div class=\"item\" v-for=\"(c1, index) in categoryList\" :key=\"c1.categoryId\">\n                                <h3 @mouseenter=\"changeIndex(index)\" :class=\"{ cur: currentIndex == index }\">\n                                    <a :data-categoryName=\"c1.categoryName\" :data-category2Id=\"c1.categoryId\">{{ c1.categoryName }} </a>\n                                </h3>\n                                <!-- 二级、三级 -->\n                                <div class=\"item-list clearfix\" :style=\"{display:currentIndex == index?'block':'none'}\">\n                                    <div class=\"subitem\" v-for=\"(c2, index) in c1.categoryChild\" :key=\"c2.categoryId\">\n                                        <dl class=\"fore\">\n                                            <dt>\n\n                                                <a :data-categoryName=\"c2.categoryName\" :data-category2Id=\"c2.categoryId\">{{ c2.categoryName }}</a>\n                                            </dt>\n                                            <dd>\n                                                <em v-for=\"(c3, index) in c2.categoryChild\" :key=\"c3.categoryId\">\n                                                    <a :data-categoryName=\"c3.categoryName\" :data-category3Id=\"c3.categoryId\">{{ c3.categoryName }}</a>\n                                                </em>\n                                            </dd>\n                                        </dl>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </transition>\n\n            </div>\n\n            <nav class=\"nav\">\n                <a href=\"###\">服装城</a>\n                <a href=\"###\">美妆馆</a>\n                <a href=\"###\">尚品汇超市</a>\n                <a href=\"###\">全球购</a>\n                <a href=\"###\">闪购</a>\n                <a href=\"###\">团购</a>\n                <a href=\"###\">有趣</a>\n                <a href=\"###\">秒杀</a>\n            </nav>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { mapState } from \"vuex\";\n// console.log(mapState(['categoryList','a']))\n// mapState:https://vuex.vuejs.org/zh/guide/state.html#mapstate-%E8%BE%85%E5%8A%A9%E5%87%BD%E6%95%B0\nimport throttle from \"lodash/throttle\"\n\nexport default {\n    name: \"TypeNav\",\n    data() {\n        return {\n            //存储用户鼠标移到哪个一级分类\n            currentIndex: -1,\n            show: true\n        };\n    },\n    computed: {\n        ...mapState({\n            //右侧需要的是一个函数，当使用这个计算属性时，右侧函数会立即调用\n            //注入一个参数state,其实即为大仓库中的数据\n            categoryList: (state) => state.home.categoryList,\n        }),\n        // ...mapState('home',{categoryList:'categoryList'})//==>运行出来是错的\n    },\n    created() {\n    },\n    //组件挂载完毕：可以向服务器发请求\n    mounted() {\n        //  console.log(this)\n        // //通知Vue发请求，获取数据，存储仓库中\n        // this.$store.dispatch(\"categoryList\");\n        //当组件挂载完毕，让show属性又要变成fale\n        //如果不是home路由主机，将typeNav进行隐藏\n        if (this.$route.path != '/home') {\n            this.show = false\n        }\n    },\n    methods: {\n        //鼠标进去修改currentIndex的值\n        // changeIndex(index) {\n        //     //index鼠标移入的元素索引值\n        //     //正常：用户慢慢来操作，鼠标进入，每个一级分类都会触发鼠标进入事件\n        //     //非正常：用户操作很快，鼠标进入，本身全部一级分类都应该触发鼠标进入事件，但是经过测试，只有部分触发了\n        //     //就是由于用户行为过快，浏览器反应不过来，如果当前回调中有大量业务，有可能出现卡顿现象\n        //     this.currentIndex = index;\n        //     console.log('鼠标进入'+index)\n        // },\n        //throttle函数别用this,可能会出现上下文this\n        changeIndex: throttle(function (index) {\n            this.currentIndex = index;\n            // console.log('鼠标进入' + index)\n        }, 50),\n\n        goSearch(event) {\n            // this.$router.push('/serch')\n            //区分点击的是a，把子节点中a标签 加自定义属性data-categoryName，其余节点没有\n            let element = event.target;\n            //获取当前事件节点，需要带data-categoryName的节点\n            //节点dataset属性，可以获取节点自定义属性与属性值\n            let { categoryname, category1id, category2id, category3id, a } = element.dataset\n            // console.log(a)//不存在为undefined\n            if (categoryname) {\n                //整理路由跳转参数\n                let location = { name: 'search' };\n                let query = { categoryName: categoryname };\n                //区分1、2、3级标签\n                if (category1id) {\n                    query.category1id = category1id;\n                } else if (category2id) {\n                    query.category2Id = category2id;\n                } else {\n                    query.category3Id = category3id;\n                }\n                location.query = query;\n                //如果路由跳转有params参数，要带过去\n                //如果路由有query也要带\n                location.params=this.$route.params;\n                this.$router.push(location);\n            }\n\n\n        },\n        //当鼠标进入，让商品分类列表进行显示\n        enterShow() {\n            if (this.$route.path != '/home') {\n                this.show = true\n            }\n        },\n        // 一级标签鼠标移除\n        leaveShow() {\n            // 一级标签鼠标移除\n            this.currentIndex = -1;\n            //search页面才执行\n            if (this.$route.path != '/home') {\n                this.show = false\n            }\n\n        },\n    },\n};\n</script>\n\n<style scoped lang=\"less\">\n.type-nav {\n    border-bottom: 2px solid #e1251b;\n\n    .container {\n        width: 1200px;\n        margin: 0 auto;\n        display: flex;\n        position: relative;\n\n        .all {\n            width: 210px;\n            height: 45px;\n            background-color: #e1251b;\n            line-height: 45px;\n            text-align: center;\n            color: #fff;\n            font-size: 14px;\n            font-weight: bold;\n        }\n\n        .nav {\n            a {\n                height: 45px;\n                margin: 0 22px;\n                line-height: 45px;\n                font-size: 16px;\n                color: #333;\n            }\n        }\n\n        .sort {\n            position: absolute;\n            left: 0;\n            top: 45px;\n            width: 210px;\n            height: 461px;\n            position: absolute;\n            background: #fafafa;\n            z-index: 999;\n            // overflow: hidden;\n            .all-sort-list2 {\n                .item {\n                    h3 {\n                        line-height: 30px;\n                        font-size: 14px;\n                        font-weight: 400;\n                        overflow: hidden;\n                        padding: 0 20px;\n                        margin: 0;\n\n                        a {\n                            color: #333;\n                        }\n                    }\n\n                    .item-list {\n                        display: none;\n                        position: absolute;\n                        width: 734px;\n                        min-height: 460px;\n                        background: #f7f7f7;\n                        left: 210px;\n                        border: 1px solid #ddd;\n                        top: 0;\n                        z-index: 9999 !important;\n\n                        .subitem {\n                            float: left;\n                            width: 650px;\n                            padding: 0 4px 0 8px;\n\n                            dl {\n                                border-top: 1px solid #eee;\n                                padding: 6px 0;\n                                overflow: hidden;\n                                zoom: 1;\n\n                                &.fore {\n                                    border-top: 0;\n                                }\n\n                                dt {\n                                    float: left;\n                                    width: 54px;\n                                    line-height: 22px;\n                                    text-align: right;\n                                    padding: 3px 6px 0 0;\n                                    font-weight: 700;\n                                }\n\n                                dd {\n                                    float: left;\n                                    width: 415px;\n                                    padding: 3px 0 0;\n                                    overflow: hidden;\n\n                                    em {\n                                        float: left;\n                                        height: 14px;\n                                        line-height: 14px;\n                                        padding: 0 8px;\n                                        margin-top: 5px;\n                                        border-left: 1px solid #ccc;\n                                    }\n                                }\n                            }\n                        }\n                    }\n\n                    // &:hover {\n                    //     .item-list {\n                    //         display: block;\n                    //     }\n                    // }\n                }\n                h3.cur {\n                    background: #dae8fc;\n                }\n            }\n        }\n        // 过渡动画开始的动态\n        .sort-enter{\n           height: 0;\n        }\n        // 过渡动画的结束状态\n        .sort-enter-to{\n             height: 461px;\n        }\n        //定义动画时间  速率\n        .sort-enter-active{\n            transition: all 0.5s linear;\n        }\n    }\n}\n</style>\n"]}]}