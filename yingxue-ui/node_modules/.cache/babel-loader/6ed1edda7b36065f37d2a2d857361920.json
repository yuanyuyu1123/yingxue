{"remainingRequest":"E:\\javafile\\yingxue-admin\\yingxue-ui\\node_modules\\babel-loader\\lib\\index.js!E:\\javafile\\yingxue-admin\\yingxue-ui\\src\\store\\detail\\index.js","dependencies":[{"path":"E:\\javafile\\yingxue-admin\\yingxue-ui\\src\\store\\detail\\index.js","mtime":1652150310000},{"path":"E:\\javafile\\yingxue-admin\\yingxue-ui\\babel.config.js","mtime":1652150310000},{"path":"E:\\javafile\\yingxue-admin\\yingxue-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1659166634376},{"path":"E:\\javafile\\yingxue-admin\\yingxue-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":1659166658972}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkU6XFxqYXZhZmlsZVxceWluZ3h1ZS1hZG1pblxceWluZ3h1ZS11aVxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWVcXGhlbHBlcnNcXGVzbVxcYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCB7IHJlcUdvb2RzSW5mbywgcmVxQWRkT3JVcGRhdGVTaG9wQ2FydCB9IGZyb20gJ0AvYXBpJzsgLy/lsIHoo4XmuLjlrqLouqvku73mqKHlnZd1dWlkLS0+55Sf5oiQ5LiA5Liq6ZqP5py65a2X56ym5Liy77yI5LiN6IO95YaN5Y+Y77yJCgppbXBvcnQgeyBndWVVVUlEIH0gZnJvbSAnQC91dGlscy91dWlkX3Rva2VuJzsKdmFyIHN0YXRlID0gewogIGdvb2RzSW5mbzoge30sCiAgLy/muLjlrqLkuLTml7bouqvku70KICB1dWlkX3Rva2VuOiBndWVVVUlEKCkKfTsKdmFyIG11dGF0aW9ucyA9IHsKICBHRVRHT09EU0lORk86IGZ1bmN0aW9uIEdFVEdPT0RTSU5GTyhzdGF0ZSwgZ29vZHNJbmZvKSB7CiAgICBzdGF0ZS5nb29kc0luZm8gPSBnb29kc0luZm87CiAgfQp9Owp2YXIgYWN0aW9ucyA9IHsKICAvL+iOt+WPluS6p+WTgeS/oeaBrwogIGdldEdvb2RzSW5mbzogZnVuY3Rpb24gZ2V0R29vZHNJbmZvKF9yZWYsIHNrdUlkKSB7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICB2YXIgY29tbWl0LCByZXN1bHQ7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBjb21taXQgPSBfcmVmLmNvbW1pdDsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICByZXR1cm4gcmVxR29vZHNJbmZvKHNrdUlkKTsKCiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICBpZiAocmVzdWx0LmNvZGUgPT0gMjAwKSB7CiAgICAgICAgICAgICAgICAvL+aPkOS6pG11dGF0aW9uc+OAguS/ruaUuXN0YXRlCiAgICAgICAgICAgICAgICBjb21taXQoJ0dFVEdPT0RTSU5GTycsIHJlc3VsdC5kYXRhKTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUpOwogICAgfSkpKCk7CiAgfSwKICAvL+S6p+WTgea3u+WKoOWIsOi0reeJqei9puS4rQogIGFkZE9yVXBkYXRlU2hvcENhcnQ6IGZ1bmN0aW9uIGFkZE9yVXBkYXRlU2hvcENhcnQoX3JlZjIsIF9yZWYzKSB7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgdmFyIGNvbW1pdCwgc2t1SWQsIHNrdU51bSwgcmVzdWx0OwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYyLmNvbW1pdDsKICAgICAgICAgICAgICBza3VJZCA9IF9yZWYzLnNrdUlkLCBza3VOdW0gPSBfcmVmMy5za3VOdW07CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA0OwogICAgICAgICAgICAgIHJldHVybiByZXFBZGRPclVwZGF0ZVNob3BDYXJ0KHNrdUlkLCBza3VOdW0pOwoKICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0Mi5zZW50OwoKICAgICAgICAgICAgICBpZiAoIShyZXN1bHQuY29kZSA9PSAyMDApKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDk7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCAib2siKTsKCiAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIiwgUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdmYWlsZScpKSk7CgogICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTIpOwogICAgfSkpKCk7CiAgfQp9Owp2YXIgZ2V0dGVycyA9IHsKICAvLyDot6/lvoTlr7zoiKrnroDljJYKICBjYXRlZ29yeVZpZXc6IGZ1bmN0aW9uIGNhdGVnb3J5VmlldyhzdGF0ZSkgewogICAgLy9jb25zb2xlLmxvZyhzdGF0ZSkvL+S8muaJp+ihjOS4pOasoe+8jOesrOS4gOasoXN0YXRlLmdvb2RzSW5mb+aYr+epuuWvueixoQogICAgLy9zdGF0ZS5nb29kc0luZm/liJ3lp4vnirbmgIHmmK/nqbrlr7nosaHvvIznqbrlr7nosaHnmoQuY2F0ZWdvcnlWaWV35pivdW5kZWZpbmVk44CC44CC5omA5Lul5oql6ZSZ44CC44CC6Kej5Yazc3RhdGUuZ29vZHNJbmZvLmNhdGVnb3J5Vmlld3x8e30KICAgIHJldHVybiBzdGF0ZS5nb29kc0luZm8uY2F0ZWdvcnlWaWV3IHx8IHt9OwogIH0sCiAgLy8g5Lqn5ZOB5L+h5oGv566A5YyW5pWw5o2uCiAgc2t1SW5mbzogZnVuY3Rpb24gc2t1SW5mbyhzdGF0ZSkgewogICAgcmV0dXJuIHN0YXRlLmdvb2RzSW5mby5za3VJbmZvIHx8IHt9OwogIH0sCiAgLy/llK7ljZblsZ7mgKfnroDljJYKICBzcHVTYWxlQXR0ckxpc3Q6IGZ1bmN0aW9uIHNwdVNhbGVBdHRyTGlzdChzdGF0ZSkgewogICAgcmV0dXJuIHN0YXRlLmdvb2RzSW5mby5zcHVTYWxlQXR0ckxpc3QgfHwgW107CiAgfQp9OwpleHBvcnQgZGVmYXVsdCB7CiAgc3RhdGU6IHN0YXRlLAogIG11dGF0aW9uczogbXV0YXRpb25zLAogIGFjdGlvbnM6IGFjdGlvbnMsCiAgZ2V0dGVyczogZ2V0dGVycwp9Ow=="},{"version":3,"sources":["E:/javafile/yingxue-admin/yingxue-ui/src/store/detail/index.js"],"names":["reqGoodsInfo","reqAddOrUpdateShopCart","gueUUID","state","goodsInfo","uuid_token","mutations","GETGOODSINFO","actions","getGoodsInfo","skuId","commit","result","code","data","addOrUpdateShopCart","skuNum","Promise","reject","Error","getters","categoryView","skuInfo","spuSaleAttrList"],"mappings":";;;AAAA,SAAQA,YAAR,EAAqBC,sBAArB,QAAkD,OAAlD,C,CACA;;AACA,SAAQC,OAAR,QAAsB,oBAAtB;AACA,IAAMC,KAAK,GAAC;AACRC,EAAAA,SAAS,EAAC,EADF;AAER;AACAC,EAAAA,UAAU,EAACH,OAAO;AAHV,CAAZ;AAKA,IAAMI,SAAS,GAAC;AACZC,EAAAA,YADY,wBACCJ,KADD,EACOC,SADP,EACiB;AACtBD,IAAAA,KAAK,CAACC,SAAN,GAAgBA,SAAhB;AACN;AAHW,CAAhB;AAKA,IAAMI,OAAO,GAAC;AACV;AACMC,EAAAA,YAFI,8BAEkBC,KAFlB,EAEwB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAdC,cAAAA,MAAc,QAAdA,MAAc;AAAA;AAAA,qBACbX,YAAY,CAACU,KAAD,CADC;;AAAA;AAC1BE,cAAAA,MAD0B;;AAE9B,kBAAGA,MAAM,CAACC,IAAP,IAAa,GAAhB,EAAoB;AAAC;AACjBF,gBAAAA,MAAM,CAAC,cAAD,EAAgBC,MAAM,CAACE,IAAvB,CAAN;AACH;;AAJ6B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKjC,GAPS;AAQV;AACMC,EAAAA,mBATI,6CASwC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAvBJ,cAAAA,MAAuB,SAAvBA,MAAuB;AAAdD,cAAAA,KAAc,SAAdA,KAAc,EAARM,MAAQ,SAARA,MAAQ;AAAA;AAAA,qBAG7Bf,sBAAsB,CAACS,KAAD,EAAOM,MAAP,CAHO;;AAAA;AAG1CJ,cAAAA,MAH0C;;AAAA,oBAK3CA,MAAM,CAACC,IAAP,IAAa,GAL8B;AAAA;AAAA;AAAA;;AAAA,gDAMlC,IANkC;;AAAA;AAAA,gDAQnCI,OAAO,CAACC,MAAR,CAAe,IAAIC,KAAJ,CAAU,OAAV,CAAf,CARmC;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUjD;AAnBS,CAAd;AAqBA,IAAMC,OAAO,GAAC;AACV;AACAC,EAAAA,YAFU,wBAEGlB,KAFH,EAES;AACf;AACA;AACD,WAAOA,KAAK,CAACC,SAAN,CAAgBiB,YAAhB,IAA8B,EAArC;AACF,GANS;AAOV;AACAC,EAAAA,OARU,mBAQFnB,KARE,EAQI;AACV,WAAOA,KAAK,CAACC,SAAN,CAAgBkB,OAAhB,IAAyB,EAAhC;AACH,GAVS;AAWV;AACAC,EAAAA,eAZU,2BAYMpB,KAZN,EAYY;AAClB,WAAOA,KAAK,CAACC,SAAN,CAAgBmB,eAAhB,IAAiC,EAAxC;AACH;AAdS,CAAd;AAgBA,eAAe;AACXpB,EAAAA,KAAK,EAALA,KADW;AACLG,EAAAA,SAAS,EAATA,SADK;AACKE,EAAAA,OAAO,EAAPA,OADL;AACaY,EAAAA,OAAO,EAAPA;AADb,CAAf","sourcesContent":["import {reqGoodsInfo,reqAddOrUpdateShopCart} from '@/api'\n//封装游客身份模块uuid-->生成一个随机字符串（不能再变）\nimport {gueUUID} from '@/utils/uuid_token'\nconst state={\n    goodsInfo:{},\n    //游客临时身份\n    uuid_token:gueUUID()\n}\nconst mutations={\n    GETGOODSINFO(state,goodsInfo){\n           state.goodsInfo=goodsInfo\n    }\n}\nconst actions={\n    //获取产品信息\n    async getGoodsInfo({commit},skuId){\n        let result=await reqGoodsInfo(skuId);\n        if(result.code==200){//提交mutations。修改state\n            commit('GETGOODSINFO',result.data);\n        }\n    },\n    //产品添加到购物车中\n    async addOrUpdateShopCart({commit},{skuId,skuNum}){   \n        //加入购物车返回的结果 \n        //服务器写入数据成功，并没有返回其他数据，所以不需要三连环存储数据\n        let result=await reqAddOrUpdateShopCart(skuId,skuNum);\n        //当前这个函数如果执行返回的是个promise 要么成功，要么失败\n        if(result.code==200){//成功\n             return \"ok\"\n         }else{//加入购物车失败\n            return Promise.reject(new Error('faile'))\n         }\n    }\n}\nconst getters={\n    // 路径导航简化\n    categoryView(state){\n        //console.log(state)//会执行两次，第一次state.goodsInfo是空对象\n        //state.goodsInfo初始状态是空对象，空对象的.categoryView是undefined。。所以报错。。解决state.goodsInfo.categoryView||{}\n       return state.goodsInfo.categoryView||{};\n    },\n    // 产品信息简化数据\n    skuInfo(state){\n        return state.goodsInfo.skuInfo||{};\n    },\n    //售卖属性简化\n    spuSaleAttrList(state){\n        return state.goodsInfo.spuSaleAttrList||[];\n    }\n}\nexport default {\n    state,mutations,actions,getters\n}"]}]}